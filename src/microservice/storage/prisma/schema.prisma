// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
    output   = "../../../../node_modules/.prisma/storage"
}

datasource db {
    provider = "mongodb"
    url      = env("MONGODB_STORAGE_URL")
}

type User {
    id        String  @db.ObjectId
    name      String?
    username  String?
    email     String?
    avatarUrl String?
}

enum Provider {
    Local
    GoogleDrive
}

enum FileType {
    Image
    Video
    Media
    Document
    Unknown
}

model File {
    id         String   @id @default(auto()) @map("_id") @db.ObjectId
    name       String
    type       FileType
    mime       String
    size       Int      @db.Long
    isPublic   Boolean
    provider   Provider
    providerId String
    createdAt  DateTime @default(now())
    author     User?
}
